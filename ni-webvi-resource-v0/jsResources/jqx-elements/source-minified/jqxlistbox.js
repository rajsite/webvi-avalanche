"use strict";JQX("jqx-list-item",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return"<div id=\"container\">\n                   <span id='itemInput' class ='jqx-input jqx-hidden'></span>\n                   <div id=\"itemContainer\" inner-h-t-m-l='[[innerHTML]]' class =\"jqx-list-item-container\"><content></content></div>\n               </div>"}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.$.itemContainer.innerHTML="",e instanceof HTMLElement&&t.$.itemContainer.appendChild(e)}},{key:"insertBefore",value:function(e,t){var r=this;if(!r.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(r,i.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.itemContainer.removeChild(e)}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;""!==e.label?e.innerHTML=e.label:""!==e.innerHTML&&(e.label=e.innerHTML),e._setDisplayMode(e.displayMode)}},{key:"propertyChangedHandler",value:function(e,r,i){var o=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,r,i),"displayMode"===e&&o._setDisplayMode(i),"label"===e){var l=o.context;o.context=document,o.innerHTML=i;o.getListBox().onItemUpdated(o),o.context=l}if("innerHTML"===e){o.getListBox().onItemUpdated(o)}}},{key:"getListBox",value:function(){for(var e=this,t=e.parentNode;t instanceof JQX.ListBox==!1&&null!==t;)t=t.parentNode;return t}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.ownerListBox=e.getListBox(),e.ownerListBox&&e.ownerListBox.onItemAttached(e)}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e.ownerListBox&&e.ownerListBox.onItemDetached(e)}},{key:"_itemOnMouseEnter",value:function(){var e=this;!e.disabled&&e.ownerListBox&&e.$.addClass("hovered")}},{key:"_itemOnMouseMove",value:function(e){var t=this;if(!t.disabled&&t.ownerListBox&&JQX.ListBox.DragDrop.Dragging&&t.ownerListBox.allowDrop&&!JQX.Utilities.Core.isMobile){if(JQX.ListBox.DragDrop.DropDetails={item:t,position:"top"},!t.ownerListBox._areCSSVarsSupported){if(t.index===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){var r=t.getBoundingClientRect();e.pageY>r.top+r.height/2-1&&(JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"})}return}if(t.$.removeClass("jqx-list-item-line-feedback"),t.$.removeClass("jqx-list-item-bottom-line-feedback"),t.index===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){var i=t.getBoundingClientRect();e.pageY>i.top+i.height/2-1?(t.$.addClass("jqx-list-item-bottom-line-feedback"),JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}):t.$.addClass("jqx-list-item-line-feedback")}else t.$.addClass("jqx-list-item-line-feedback")}}},{key:"_itemOnMouseLeave",value:function(){var e=this;!e.disabled&&e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&(e.$.removeClass("jqx-list-item-line-feedback"),e.$.removeClass("jqx-list-item-bottom-line-feedback")),e.$.removeClass("hovered"))}},{key:"_setDisplayMode",value:function(e){var t=this;if("default"===e)return void t.$itemInput.addClass("jqx-hidden");t.$itemInput.removeClass("jqx-hidden")}}],[{key:"properties",get:function(){return{displayMode:{allowedValues:["default","checkBox","radioButton"],value:"default",type:"string"},focused:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"string"},label:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave",mousemove:"_itemOnMouseMove"}}}]),t}(JQX.ContentElement)),JQX("jqx-list-items-group",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"template",value:function(){return'<div id="container">\n                 <span id="itemsLabel" class ="jqx-list-items-group-label">[[label]]</span>\n                 <div id="listItemsGroupContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-list-items-group-container">\n                    <content></content>\n                 </div>\n               </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.appendChild(e)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.removeChild(e)}},{key:"getListBox",value:function(){for(var e=this,t=e.parentNode;t instanceof JQX.ListBox==!1&&null!==t;)t=t.parentNode;return t}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),e.ownerListBox||(e.ownerListBox=e.getListBox()),e.ownerListBox&&e.ownerListBox.onListItemsGroupAttached&&e.ownerListBox.onListItemsGroupAttached(e)}},{key:"detached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),e.ownerListBox&&e.ownerListBox.onListItemsGroupDetached&&e.ownerListBox.onListItemsGroupDetached(e)}}],[{key:"properties",get:function(){return{label:{value:"",type:"string"}}}}]),t}(JQX.ContentElement)),JQX("jqx-list-box",function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||t.displayLoadingIndicator||t.readonly)){var r=e.originalEvent.target,i=null;if(!(r instanceof JQX.ListItem)||r.disabled||r instanceof JQX.ListItemsGroup)for(;r.parentElement;){if(r instanceof JQX.ListItem&&!r.disabled&&!(r instanceof JQX.ListItemsGroup)){i=r;break}r=r.parentElement}else i=r;!JQX.Utilities.Core.isMobile&&i&&(t._focusItem(r),t.selectItem(r)),JQX.ListBox.DragDrop.StartTime=new Date,JQX.ListBox.DragDrop.StartPosition={left:e.pageX,top:e.pageY},i&&!JQX.ListBox.DragDrop.Feedback&&t.allowDrag&&(JQX.ListBox.DragDrop.Feedback=document.createElement("span"),JQX.ListBox.DragDrop.Feedback.appendChild(i.cloneNode(!0)),JQX.ListBox.DragDrop.Item=i,JQX.Utilities.Extend(JQX.ListBox.DragDrop.Feedback).addClass("jqx-popup jqx-list-item jqx-list-item-feedback"))}}},{key:"_pointerUpHandler",value:function(e){var t=e.target,r=function(e){var t=e.ownerListBox;t.disabled||t.displayLoadingIndicator||"none"===t.selectionMode||(t._focusItem(e),t.selectItem(e))};if(e.target instanceof JQX.ListItem&&!e.target.disabled&&!(e.target instanceof JQX.ListItemsGroup))return void r(t);for(;t.parentElement;){if(t instanceof JQX.ListItem&&!t.disabled&&!(t instanceof JQX.ListItemsGroup)){r(t);break}t=t.parentElement}}},{key:"_upHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly){if(JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging){var r=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),i=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top),o=r>=0&&r<=3&&i>=0&&i<=3;JQX.Utilities.Core.isMobile&&new Date-JQX.ListBox.DragDrop.StartTime>=300&&(o=!1),o&&t._pointerUpHandler(e.originalEvent)}if(JQX.ListBox.DragDrop.Feedback){if(JQX.ListBox.DragDrop.Feedback.parentNode&&JQX.ListBox.DragDrop.Feedback.parentNode.removeChild(JQX.ListBox.DragDrop.Feedback),JQX.ListBox.DragDrop.Feedback=null,JQX.Utilities.Core.isMobile&&JQX.ListBox.DragDrop.Dragging)for(var l=0;l<JQX.ListBox.DragDrop.ListBoxes.length;l++){var n=JQX.ListBox.DragDrop.ListBoxes[l],a=n.getBoundingClientRect();if(n.allowDrop&&(a.left<=e.pageX&&e.pageX<=a.right&&a.top<=e.pageY&&e.pageY<=a.bottom))for(var s=0;s<n._items.length;s++){var d=n._items[s],c=d.getBoundingClientRect();if((d.index===n._items.length-1||d.parentNode.lastElementChild===d)&&e.pageY>=c.top+c.height/2&&e.pageY<=c.bottom){JQX.ListBox.DragDrop.DropDetails={item:d,position:"bottom"};break}if(e.pageY>=c.top&&e.pageY<=c.bottom){JQX.ListBox.DragDrop.DropDetails={item:d,position:"top"};break}}}if(JQX.ListBox.DragDrop.DropDetails){var p=JQX.ListBox.DragDrop.DropDetails.item;if(p.$.removeClass("jqx-list-item-line-feedback"),p.$.removeClass("jqx-list-item-bottom-line-feedback"),JQX.ListBox.DragDrop.Item!==p){var u=JQX.ListBox.DragDrop.Item;if("none"!==u.ownerListBox.dropAction){p.ownerListBox!==u.ownerListBox&&"move"===u.ownerListBox.dropAction&&JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item),"copy"===u.ownerListBox.dropAction&&(u=u.cloneNode(!0)),JQX.ListBox.DragDrop.Item.group=p.group;var m=JQX.ListBox.DragDrop.DropDetails.item.ownerListBox;"top"===JQX.ListBox.DragDrop.DropDetails.position?m.insertBefore(u,p):p.parentNode.lastElementChild===p?p.parentNode.appendChild(u):m.appendChild(u,p),m.ensureVisible(u),"checkBox"===m.selectionMode||"radioButton"===m.selectionMode?m.focusItem(u):(m.clearSelection(),m.selectItem(u))}}var f=JQX.ListBox.DragDrop.Item;t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,selected:f.selected,disabled:f.disabled,index:f.index,label:f.label,value:f.value})}else{var h=JQX.ListBox.DragDrop.Item;t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,selected:h.selected,disabled:h.disabled,index:h.index,label:h.label,value:h.value})}JQX.ListBox.DragDrop.Dragging=!1,JQX.ListBox.DragDrop.Item=null,JQX.ListBox.DragDrop.DropDetails=null}for(var g=0;g<JQX.ListBox.DragDrop.ListBoxes.length;g++){var v=JQX.ListBox.DragDrop.ListBoxes[g];v._dragInterval&&clearInterval(v._dragInterval)}}}},{key:"_itemsContainerMoveHandler",value:function(e){var t=this;if(JQX.ListBox.DragDrop.Dragging)return t._moveHandler(e),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}},{key:"_moveHandler",value:function(e){if(JQX.ListBox.DragDrop.Feedback){if(JQX.ListBox.DragDrop.Dragging){JQX.ListBox.DragDrop.Feedback.style.left=5+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=5+e.pageY+"px";for(var t=0;t<JQX.ListBox.DragDrop.ListBoxes.length;t++)!function(t){var r=JQX.ListBox.DragDrop.ListBoxes[t];r._dragInterval&&clearInterval(r._dragInterval),r._dragInterval=setInterval(function(){var t=r.getBoundingClientRect();t.left<=e.pageX&&t.left+t.width>=e.pageX&&(e.pageY>=t.top&&e.pageY<=t.top+20?r._scrollView.scrollTop-=2:e.pageY>=t.bottom-20&&e.pageY<=t.bottom&&(r._scrollView.scrollTop+=2))},1)}(t);return e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}var r=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),i=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top),o=new Date-JQX.ListBox.DragDrop.StartTime,l=r>=5&&r<=15||i>=5&&i<=15;if(JQX.Utilities.Core.isMobile&&(o<300||o>1e3)&&(l=!1),l){JQX.ListBox.DragDrop.Dragging=!0,JQX.ListBox.DragDrop.Feedback.style.left=5+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=5+e.pageY+"px",document.body.appendChild(JQX.ListBox.DragDrop.Feedback),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var n=this,a=JQX.ListBox.DragDrop.Item;n.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,selected:a.selected,disabled:a.disabled,index:a.index,label:a.label,value:a.value})}}}},{key:"_focusHandler",value:function(){this._focused=!0}},{key:"_blurHandler",value:function(){this._focused=!1}},{key:"template",value:function(){return'<div id="container" class="jqx-container">\n                 <input id="filterInput" class ="jqx-hidden"  disabled="[[disabled]]" placeholder=\'[[filterInputPlaceholder]]\'>\n                 <div id="itemsContainer" class="jqx-list-items-container">\n                      <div id="placeholder" class ="jqx-placeholder">[[placeholder]]</div>\n                      <div id="itemsInnerContainer" inner-h-t-m-l=\'[[innerHTML]]\' class ="jqx-list-items-inner-container">\n                      <content></content>\n                    </div>\n                 </div>\n                 <jqx-scroll-bar id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                 <jqx-scroll-bar id="horizontalScrollBar" disabled="[[disabled]]" ></jqx-scroll-bar>\n                 <div id="loadingIndicatorContainer" class ="jqx-loader-container">\n                    <span id="loadingIndicator" class="jqx-loader"></span>\n                    <span id="loadingIndicatorPlaceHolder" class ="jqx-loader-label jqx-hidden">[[loadingIndicatorPlaceholder]]</span>\n                 </div>\n                </div>'}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.$.itemsInnerContainer.appendChild(e)}},{key:"insertBefore",value:function(e,t){var r=this;if(!r.isCompleted){var i=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(r,i.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}e.parentNode&&e.parentNode.removeChild(e)}},{key:"propertyChangedHandler",value:function(e,r,i){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"propertyChangedHandler",this).call(this,e,r,i);var o=this;switch(e){case"dataSource":case"valueMember":case"groupMember":case"displayMember":o.clearSelection(),o._initializeData();break;case"displayLoadingIndicator":o._setLoadingIndicatorVisibility();break;case"filterable":o._updateFilterInputVisibility(),o._updateScrollBars();break;case"grouped":o.clearSelection(),i?o._group():o._ungroup(),o._updateScrollBars();break;case"itemTemplate":if(null===i||""===i)return o._items.map(function(e){return e.innerHTML=e.label}),delete o._bindingDetails,void o._updateScrollBars();o._handleItemTemplate(i)&&(o._items.map(function(e){return o._applyTemplate(e)}),o._updateScrollBars());break;case"selectedIndexes":case"selectedValues":o.clearSelection(),function(e){o._items.forEach(function(t){i.indexOf(t[e])>=0&&o.selectItem(t)})}("selectedIndexes"===e?"index":"value");break;case"selectionMode":var l="checkBox"===o.selectionMode||"radioButton"===o.selectionMode?o.selectionMode:"default";o.clearSelection(),o._items.forEach(function(e){return e.displayMode=l});break;case"sorted":o.clearSelection(),i?o._sort():o._unsort()}}},{key:"clearSelection",value:function(){var e=this;e.selectedIndexes=[],e.selectedValues=[],e._items&&0!==e._items.length&&e._items.map(function(e){return e.selected=!1})}},{key:"ensureVisible",value:function(e){var t=this;return!("string"==typeof e&&!(e=t.getItem(e)))&&((e.offsetTop<=t._scrollView.scrollTop||e.offsetTop>=t._scrollView.scrollTop+t.offsetHeight)&&(t._scrollView.scrollTop=e.offsetTop,t.$.itemsContainer.scrollTop=t._scrollView.scrollTop),0===e.index?(t._scrollView.scrollTop=0,t.$.itemsContainer.scrollTop=t._scrollView.scrollTop):e.index===t._items.length-1&&(t._scrollView.scrollTop=t._scrollView.scrollHeight,t.$.itemsContainer.scrollTop=t._scrollView.scrollTop),!0)}},{key:"getItems",value:function(){return this._items}},{key:"ready",value:function(){babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"ready",this).call(this);var e=this;e._checkMissingModules(),e._areCSSVarsSupported=JQX.Utilities.Core.CSSVariablesSupport(),e._keysPressed={},e._incrementalSearchQuery="",e._incrementalSearchItems=[],e._previousEntry="",e.isUpdating=0,e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e._scrollView.vScrollBar.$.addClass("jqx-hidden"),e.setFocusable(!0),e._setLoadingIndicatorVisibility(),e._updateFilterInputVisibility(),e._initializeInnerHTML(),e._initializeData()}},{key:"attached",value:function(){var e=this;babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attached",this).call(this),JQX.ListBox.DragDrop||(JQX.ListBox.DragDrop={ListBoxes:[]}),JQX.ListBox.DragDrop.ListBoxes.push(e)}},{key:"detached",value:function(){var e=this;if(babelHelpers.get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"detached",this).call(this),JQX.ListBox.DragDrop&&JQX.ListBox.DragDrop.ListBoxes){var r=JQX.ListBox.DragDrop.ListBoxes.indexOf(e);JQX.ListBox.DragDrop.ListBoxes.splice(r,1)}}},{key:"_createItem",value:function(e){var t=this,r="checkBox"===t.selectionMode||"radioButton"===t.selectionMode?t.selectionMode:"default",i=document.createElement("jqx-list-item");"number"==typeof e&&(e=""+e);var o=function(t,r){return void 0!==e[t]?""+e[t]:e[r]},l="string"==typeof e?e:o(t.displayMember,"label"),n="string"==typeof e?e:o(t.valueMember,"value"),a="string"==typeof e?null:o(t.groupMember,"group");return i.label=i.innerHTML=""+l,i.value=""+n,i.displayMode=r,i.selected=!!e.selected&&e.selected,i.disabled=!!e.disabled&&e.disabled,i.title=e.title?e.title:"",a&&(i.group=""+a),i}},{key:"_initializeData",value:function(){var e=this;if(null!==e.dataSource){e.isUpdating++;var t=document.createDocumentFragment();e.$.itemsInnerContainer.innerHTML="";for(var r=0;r<e.dataSource.length;r++){var i=e.dataSource[r],o=e._createItem(i);t.appendChild(o)}e.$.itemsInnerContainer.appendChild(t),e.isUpdating--}var l=e.querySelectorAll("jqx-list-item"),n=function(){e.isUpdating++,e._initializeItems(),e._initializeGroups(),e.grouped&&e._group(),e.sorted&&e._sort(),e._updateScrollBars(),e._initializeSelection(),e.isInitialized=!0,e.isUpdating--};0===l.length?n():e._ensureItemsReady(l,n)}},{key:"_ensureItemsReady",value:function(e,t){var r=this;if(0===e.length)t();else{r._nodesReadyListeners=0;for(var i=0;i<e.length;i++){var o=e[i],l=function(){0===--r._nodesReadyListeners&&(t(),delete r._nodesReadyListeners)}.bind(r);o.isCompleted||(r._nodesReadyListeners++,o.onCompleted=l)}0===r._nodesReadyListeners&&t()}}},{key:"_initializeInnerHTML",value:function(){var e=this;e.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<jqx-list-items-group").replace(/<\/optgroup/gi,"</jqx-list-items-group").replace(/<option/gi,"<jqx-list-item").replace(/<\/option/gi,"</jqx-list-item"):e.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<jqx-list-items-group").replace(/<\/ul/gi,"</jqx-list-items-group").replace(/<li/gi,"<jqx-list-item").replace(/<\/li/gi,"</jqx-list-item"))}},{key:"_initializeItems",value:function(){var e=this,t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-item"),r="checkBox"===e.selectionMode||"radioButton"===e.selectionMode?e.selectionMode:"default",i=function(e,t,r){return void 0!==e[t]?""+e[t]:e[r]};e._items=[];for(var o=0;o<t.length;o++){var l=t[o];l.index=l.dataIndex=o,l.label=l.innerHTML,l.value||(l.value=l.label);var n=i(l,e.displayMember,"label"),a=i(l,e.valueMember,"value");l.label!==n&&(l.label=n),l.value!==a&&(l.value=a),l.displayMode=r,l.selected&&(e.selectedIndexes.push(o),e.selectedValues.push(l.value)),e._items.push(l)}e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._items.map(function(t){return e._applyTemplate(t)})}},{key:"_group",value:function(){var e=this;for(e.isUpdating++;e.$.itemsInnerContainer.firstChild;)e.$.itemsInnerContainer.removeChild(e.$.itemsInnerContainer.firstChild);var t=document.createDocumentFragment(),r=[],i=[],o=0;e.sorted&&e._unsort();for(var l=0;l<e._items.length;l++){var n=e._items[l],a=n.group||n.innerHTML.toUpperCase().charAt(0)||n.label.toUpperCase().charAt(0);r[a]?r[a].items.push(n):r[r.length++]=r[a]={items:[n],label:a}}e._groups=[];for(var s=0;s<r.length;s++){var d=r[s],c=document.createElement("jqx-list-items-group");c.label=d.label,c.dataIndex=s;for(var p=0;p<r[s].items.length;p++){var u=d.items[p];u.index=o++,i.push(u),c.appendChild(u)}e._groups.push(c),t.appendChild(c)}e._items=i,e.$.itemsInnerContainer.appendChild(t),e.sorted&&e._sort(),e.isUpdating--}},{key:"_ungroup",value:function(){var e=this;e.isUpdating++,e.sorted&&e._unsort();for(var t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-item"),r=[],i=document.createDocumentFragment(),o=0;o<t.length;o++){var l=t[o];for(void 0===l.dataIndex&&(l.dataIndex=o);r[l.dataIndex];)l.dataIndex++;r.push(l)}var n=0;r.map(function(e){e&&(e.index=n++,i.appendChild(e))}),r.length>0&&(e.$.itemsInnerContainer.innerHTML="",e.$.itemsInnerContainer.appendChild(i)),e._groups=[],e._items=r,e.sorted&&e._sort(),e.isUpdating--}},{key:"_initializeGroups",value:function(){var e=this,t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group");e._groups=[];for(var r=0;r<t.length;r++){var i=t[r];i.dataIndex=r,e._groups.push(i)}}},{key:"_initializeSelection",value:function(){var e=this,t=e.selectedIndexes.slice(0),r=e.selectedValues.slice(0);e.clearSelection();for(var i=0;i<e._items.length;i++){var o=e._items[i];(t.indexOf(i)>=0||r.indexOf(o.value||o.label)>=0)&&(e._focusedItem&&(e._focusedItem.focused=!1),e._focusedItem=null,e.selectItem(o))}}},{key:"onItemUpdated",value:function(){var e=this;!e.isInitialized||e.isUpdating>0||e._updateScrollBars()}},{key:"_updateItemsArray",value:function(){var e=this;if(e.isInitialized&&!(e.isUpdating>0)){e.isUpdating++,e.grouped?e._ungroup():e.sorted&&e._unsort(),e._items=[];for(var t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-item"),r=0;r<t.length;r++)t[r].index=t[r].dataIndex=r,e._items.push(t[r]);e.grouped?e._group():e.sorted&&e._sort(),e._updateScrollBars(),e.isUpdating--}}},{key:"onItemAttached",value:function(){this._updateItemsArray()}},{key:"onItemDetached",value:function(){this._updateItemsArray()}},{key:"_applyIncrementalSearch",value:function(e){var t=this;null===t.incrementalSearchDelay||isNaN(t.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(e)>-1||(0!==t._incrementalSearchQuery.indexOf(e)&&(t._incrementalSearchQuery+=e),t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t._incrementalSearch(),t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},t.incrementalSearchDelay))}},{key:"selectItem",value:function(e){var t=this;if("string"!=typeof e||(e=t.getItem(e))){switch(t._focusedItem||(t._focusedItem=e,e.focused=!0),t.selectionMode){case"one":return(1!==t.selectedIndexes.length||t.selectedIndexes[0]!==e.index)&&(t.selectedIndexes.length>=1&&t.clearSelection(),t._selectItem(e),!0);case"zeroOrOne":return 1===t.selectedIndexes.length&&t.selectedIndexes[0]===e.index?(t.clearSelection(),!0):(t.selectedIndexes.length>=1&&t.clearSelection(),t._selectItem(e),!0);case"radioButton":if(t.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group").length>0){var r=t._focusedItem.parentNode;if(!e.selected){for(var i in r.children){var o=r.children[i];o.selected&&t.unselectItem(o)}t._selectItem(e)}return!0}return e.selected||(t.selectedIndexes.length>=1&&t.clearSelection(),t._selectItem(e)),!0;case"oneOrMany":return e.selected?t.selectedIndexes.length>1&&t.unselectItem(e):t._selectItem(e),!0;case"zeroOrMany":case"checkBox":return e.selected?t.unselectItem(e):t._selectItem(e),!0;case"default":if(t._keysPressed.Control)return t.selectedIndexes.length>1&&e.selected?(t.unselectItem(e),t._focusItem(t._items[t.selectedIndexes[0]])):t._selectItem(e),!0;if(t._keysPressed.Shift){var l=t._items[t.selectedIndexes[0]],n=void 0;if(t.clearSelection(),t._selectItem(l),l.index>e.index)for(n=l.index-1;n>=e.index;)t._selectItem(t._items[n]),n--;else for(n=l.index+1;n<=e.index;)t._selectItem(t._items[n]),n++;return!0}return t.clearSelection(),t._selectItem(e),!0}return!1}}},{key:"_applyTemplate",value:function(e){var t=this;if(null!==t.itemTemplate&&t._bindingDetails&&0!==t._bindingDetails.length){for(var r=t._bindingDetails.length,i=document.importNode(t._template.content,!0),o=void 0,l=void 0,n=0;n<r;n++){o=i.childNodes[t._bindingDetails[n].childNodeIndex],l=t._bindingDetails[n].bindingString.length;for(var a=0;a<l;a++)o.innerHTML=o.innerHTML.replace(t._bindingDetails[n].bindingString[a],e.label)}e.innerHTML="";for(var s=0;s<i.childNodes.length;s++)i.childNodes[s].outerHTML&&(e.innerHTML+=i.childNodes[s].outerHTML);t._scrollHeightTimer&&(clearInterval(t._scrollHeightTimer),t._scrollHeightCounter=0),t._scrollHeightTimer=setInterval(function(){t._lastScrollHeight===t.$.itemsInnerContainer.scrollHeight&&10!==t._scrollHeightCounter||(t._updateScrollBars(),clearInterval(t._scrollHeightTimer)),t._lastScrollHeight=t.$.itemsInnerContainer.scrollHeight,t._scrollHeightCounter++},50)}}},{key:"_calculateItemsWidth",value:function(e){var t=this,r=void 0;if(t._areCSSVarsSupported){t.$.container.setAttribute("style","--jqx-list-item-inner-container-width: 'auto'"),r=e[0].offsetWidth;for(var i=1;i<e.length;i++)r=Math.max(r,e[i].offsetWidth);for(var o=0;o<t._groups.length;o++)r=Math.max(r,t._groups[o].offsetWidth);t.$.container.setAttribute("style","--jqx-list-item-inner-container-width: 100%")}else{t.$.itemsInnerContainer.style.width="0px",r=e[0].offsetWidth;for(var l=1;l<e.length;l++)r=Math.max(r,e[l].offsetWidth);for(var n=0;n<t._groups.length;n++)r=Math.max(r,t._groups[n].offsetWidth);t.$.itemsInnerContainer.style.width="100%"}return t._scrollWidth=r,r}},{key:"_checkMissingModules",value:function(){var e=[];if(void 0===JQX.ScrollBar&&e.push("jqxscrollbar.js"),e.length>0){var t=this;t.error(t.localize("missingReference",{elementType:t.nodeName.toLowerCase(),files:e.join(", ")}))}}},{key:"_filterItems",value:function(){var e=this,t=e._items,r=e.$.filterInput.value;if(0!==t.length){for(var i=e._queryItems(r,e.filterMode),o=0;o<t.length;o++)-1===i.indexOf(t[o])?t[o].$.addClass("jqx-hidden"):t[o].$.removeClass("jqx-hidden");for(var l=0;l<e._groups.length;l++){for(var n,a=e._groups[l],s=(n=[]).concat.apply(n,babelHelpers.toConsumableArray(a.querySelectorAll("jqx-list-item"))),d=!0,c=0;c<s.length;c++)s[c].$.hasClass("jqx-hidden")||(d=!1);d?a.$.addClass("jqx-hidden"):a.$.removeClass("jqx-hidden")}e.clearSelection()}}},{key:"_getNextItem",value:function(e){for(var t=this,r=t._items,i=t._items.length,o=Math.max(e+1,0);o<i;){if(!r[o].disabled&&r[o].offsetHeight>0)return r[o];o++}return r[e]}},{key:"_getPreviousItem",value:function(e){for(var t=this,r=t._items,i=Math.max(e-1,0);i>-1;){if(!r[i].disabled&&r[i].offsetHeight>0)return r[i];i--}return r[e]}},{key:"_getScrollWidth",value:function(){var e=this,t=e._items;return e._calculateItemsWidth(t),e._scrollWidth>e.$.itemsContainer.offsetWidth?(e._areCSSVarsSupported?e.$.container.setAttribute("style","--jqx-list-item-inner-container-width: "+e._scrollWidth+"px"):e.$.itemsInnerContainer.style.width=e._scrollWidth+"px",e._scrollWidth):(e._areCSSVarsSupported?e.$.container.setAttribute("style","--jqx-list-item-inner-container-width: 100%"):e.$.itemsInnerContainer.style.width="100%",e._scrollWidth)}},{key:"update",value:function(e,t){var r=this,i=r._items[e];if(i){if("string"==typeof t)i.label=t,void 0===i.value&&(i.value=t);else for(var o in t)i[o]=t[o];(r.sorted||r.grouped)&&r._updateItemsArray()}else r.error(r.localize("indexOutOfBound",{elementType:r.nodeName.toLowerCase(),method:"update"}))}},{key:"insert",value:function(e,t){var r=this;if(e||(e=0),t instanceof Array){r.isUpdating++;for(var i=0;i<t.length;i++){var o=t[i],l=r._createItem(o);e>=r._items.length||0===r._items.length?r.appendChild(l):r.insertBefore(l,r._items[e])}r.isUpdating--,r._updateItemsArray()}else{var n=r._createItem(t);e>=r._items.length||0===r._items.length?r.appendChild(n):r.insertBefore(n,r._items[e])}}},{key:"remove",value:function(e){var t=this,r=t._items[e];r?r.parentNode.removeChild(r):t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}},{key:"_queryItems",value:function(e,t){var r=this,i=[];if(0===e.length)return r._items;for(var o=0;o<r._items.length;o++){var l=function(e,r){switch(t){case"startsWith":if(0===e.label.indexOf(r))return e;break;case"startsWithIgnoreCase":if(0===e.label.toLowerCase().indexOf(r.toLowerCase()))return e;break;case"none":if(e.label.indexOf(r)<0)return e;break;case"contains":if(e.label.indexOf(r)>-1)return e;break;case"containsIgnoreCase":if(e.label.toLowerCase().indexOf(r.toLowerCase())>-1)return e;break;case"equals":if(0===e.label.localeCompare(r))return e;break;case"equalsIgnoreCase":if(0===e.label.toLowerCase().localeCompare(r.toLowerCase()))return e;break;case"endsWith":if(e.label.endsWith(r))return e;break;case"endsWithIgnoreCase":if(e.label.toLowerCase().endsWith(r.toLowerCase()))return e}return null}(r._items[o],e);l&&i.push(l)}return i}},{key:"_selectItem",value:function(e){var t=this,r=t.selectedIndexes.indexOf(e.index),i=t.selectedIndexes.slice(0),o=t.selectedValues.slice(0);return e.selected=!0,-1===r&&(i.push(e.index),o.push(e.value||e.label),t.selectedIndexes=i,t.selectedValues=o,t.isCompleted?(t.$.fireEvent("change",{selected:e.selected,disabled:e.disabled,index:e.index,label:e.label,value:e.value}),!0):void 0)}},{key:"unselectItem",value:function(e){var t=this;if("string"!=typeof e||(e=t.getItem(e))){var r=t.selectedIndexes.indexOf(e.index),i=t.selectedIndexes.slice(0),o=t.selectedValues.slice(0);if(e.selected=!1,!(r>=0))return!1;if(i.splice(r,1),o.splice(r,1),t.selectedIndexes=i,t.selectedValues=o,t.isCompleted)return t.$.fireEvent("change",{selected:e.selected,disabled:e.disabled,index:e.index,label:e.label,value:e.value}),!0}}},{key:"_handleItemTemplate",value:function(e){if(null!==e&&e){var t=this;if(!("content"in document.createElement("template")))return t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null);if(null===(e=document.getElementById(e))||!("content"in e))return t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"itemTemplate"})),void(t.itemTemplate=null);var r=e.content,i=r.childNodes.length,o=/{{\w+}}/g,l=void 0,n=void 0;t._bindingDetails=[],t._template=e;for(var a=0;a<i;a++){for(n=[];l=o.exec(r.childNodes[a].innerHTML);)n.push(l[0]);n.length>0&&t._bindingDetails.push({childNodeIndex:a,bindingString:n})}return!0}}},{key:"_handleKeyStrokes",value:function(e){for(var t=this,r="radioButton"===t.selectionMode||"checkBox"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode,i=[],o=0;o<t._items.length;o++){var l=t._items[o];!l.disabled&&l.offsetHeight>0&&i.push(l)}if(0!==i.length&&!t.disabled&&!t.readonly)switch(e){case"ArrowLeft":case"ArrowUp":return void t._handleArrowKeys(!0);case"ArrowRight":case"ArrowDown":return void t._handleArrowKeys(!1);case" ":
if(t.selectedIndexes.length<1&&!t._focusedItem)return;var n=t._focusedItem?t._focusedItem:t._items[t.selectedIndexes[t.selectedIndexes.length-1]];0===n.offsetHeight&&i.length>0&&(n=i[0]),(n.offsetHeight+n.offsetTop>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||n.offsetTop<t.$.itemsContainer.scrollTop)&&(t._scrollView.scrollTop=n.offsetTop);var a=function(e){e.selected&&"radioButton"!==t.selectionMode?t.unselectItem(e):t.selectItem(e)};return"oneOrMany"===t.selectionMode?void(n.selected&&t.selectedIndexes.length>1?a(n):n.selected||a(n)):void a(n);case"Home":return r?t._focusItem(i[0]):(t._keysPressed.Shift||t.clearSelection(),t.selectItem(i[0]),t._focusItem(i[0])),void(t._scrollView.scrollTop=0);case"End":return r?t._focusItem(i[i.length-1]):(t._keysPressed.Shift||t.clearSelection(),t.selectItem(i[i.length-1]),t._focusItem(i[i.length-1])),void(t._scrollView.scrollTop=t._scrollView.scrollHeight);case"PageUp":return void t._pageUpKeyHandler(i);case"PageDown":return void t._pageDownKeyHandler(i)}}},{key:"_horizontalScrollbarHandler",value:function(e){e.stopPropagation(),this.$.itemsContainer.scrollLeft=e.detail.value}},{key:"_unsort",value:function(){var e=this;e.isUpdating++;var t=function(e,t){var r=e.dataIndex,i=t.dataIndex;return r<i?-1:r>i?1:0};if(e._groups.length>0){e._groups.sort(t);for(var r=[],i=0;i<e._groups.length;i++){var o,l=e._groups[i],n=(o=[]).concat.apply(o,babelHelpers.toConsumableArray(l.querySelectorAll("jqx-list-item")));n.sort(t),r=r.concat(n)}e._items=r}else e._items.sort(t);e._applySortOrder(),e.isUpdating--}},{key:"_applySortOrder",value:function(){var e=this,t=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r.parentNode;i&&(r.index=t,i.appendChild(r))}};t(e._items),t(e._groups)}},{key:"_sort",value:function(){var e=this;e.isUpdating++;var t=function(e,t){var r=e.label,i=t.label;return r<i?-1:r>i?1:0};if(e._groups.sort(t),e._groups.length>0){for(var r=[],i=0;i<e._groups.length;i++){var o,l=e._groups[i],n=(o=[]).concat.apply(o,babelHelpers.toConsumableArray(l.querySelectorAll("jqx-list-item")));n.sort(t),r=r.concat(n)}e._items=r}else e._items.sort(t);e._applySortOrder(),e.isUpdating--}},{key:"getItem",value:function(e){for(var t=this,r=0;r<t._items.length;r++)if(t._items[r].value===e)return t._items[r];return null}},{key:"focusItem",value:function(e){var t=this;"string"==typeof e&&(e=t.getItem(e)),t._focusItem(e)}},{key:"_focusItem",value:function(e){var t=this;t._focusedItem&&(t._focusedItem.focused=!1),t._focusedItem=e,t._focusedItem.focused=!0}},{key:"_keyDownHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly&&(!t.filterable||t.$.filterInput!==document.activeElement)&&t._focused&&(e.stopPropagation(),0!==t._items.length&&!t.disabled&&"none"!==t.selectionMode&&!t.displayLoadingIndicator)){if(t.filterable)switch(e.key){case"ArrowLeft":case"ArrowRight":return;case"ArrowUp":case"ArrowDown":e.preventDefault()}if(t._applyIncrementalSearch(e.key),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(e.key)<0)){if(!t._focusedItem&&t._items.length>0)return void t.selectItem(t._items[0]);switch(t.selectionMode){case"one":case"zeroOrOne":if("Shift"===e.key||"Control"===e.key||" "===e.key)return;t._handleKeyStrokes(e.key);break;case"oneOrMany":case"zeroOrMany":case"radioButton":case"checkBox":if("Shift"===e.key||"Control"===e.key)return;t._handleKeyStrokes(e.key);break;case"default":if(" "===e.key)return;t._keysPressed[e.key]="keydown"===e.type,t._handleKeyStrokes(e.key)}}}}},{key:"_keyUpHandler",value:function(e){var t=this;if(t.filterable&&t.$.filterInput===document.activeElement)return t._filterItems(),t._updateScrollBars(),t._scrollView.scrollTop=t.$.itemsContainer.scrollTop=0,void(t._scrollView.scrollLeft=t.$.itemsContainer.scrollLeft=0);t._focused&&(e.stopPropagation(),e.preventDefault(),t.disabled||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(e.key)<0||(t._keysPressed[e.key]=!1))}},{key:"_mouseWheelHandler",value:function(e){var t=this;t._scrollView.hScrollBar.$.hasClass("jqx-hidden")&&t._scrollView.vScrollBar.$.hasClass("jqx-hidden")||t.disabled||t._scrollView.vScrollBar.$.hasClass("jqx-hidden")||(e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTop+=e.deltaY<0?-100:100)}},{key:"_pageDownKeyHandler",value:function(e){var t=this,r=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode||t._focusedItem&&(r=t._focusedItem);for(var i=void 0,o=r.offsetTop+t.$.itemsContainer.offsetHeight-r.offsetHeight,l=r.index;l<e.length;l++)if(e[l].offsetTop>=o){i=e[l];break}i||(i=e[e.length-1]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode?t._focusItem(i):i.selected||(t._keysPressed.Shift||t.clearSelection(),t.selectItem(i)),(i.offsetHeight+i.offsetTop>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||i.offsetTop<t.$.itemsContainer.scrollTop)&&(t._scrollView.scrollTop=i.offsetTop-t.$.itemsContainer.offsetHeight+i.offsetHeight)}},{key:"_pageUpKeyHandler",value:function(e){var t=this,r=t._items[t.selectedIndexes[t.selectedIndexes.length-1]];"checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode||t._focusedItem&&(r=t._focusedItem);for(var i=void 0,o=r.offsetTop-t.$.itemsContainer.offsetHeight,l=r.index;l>0;l--)if(e[l].offsetTop<=o){i=e[l];break}i||(i=e[0]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode?t._focusItem(i):i.selected||(t._keysPressed.Shift||t.clearSelection(),t.selectItem(i)),t._scrollView.scrollTop=i.offsetTop,0===i.index&&(t._scrollView.scrollTop=0)}},{key:"clearItems",value:function(){var e=this;e.$.itemsInnerContainer.innerHTML="",e._items=[],e.clearSelection()}},{key:"_resizeHandler",value:function(e){var t=this;e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t._updateScrollBars(),t._isUpdatingScrollBars=!1)}},{key:"_incrementalSearch",value:function(){var e=this,t="radioButton"!==e.selectionMode&&"checkBox"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode,r=void 0,i=0;switch(e.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":case"startsWithIgnoreCase":case"endsWithIgnoreCase":r=e._incrementalSearchQuery.toLowerCase();break;default:r=e._incrementalSearchQuery}var o=function(r){t?(e.selectedIndexes.length>0&&e.clearSelection(),e._focusItem(r),e.selectItem(r)):e._focusItem(r),(r.offsetHeight+r.offsetTop>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||r.offsetTop<e.$.itemsContainer.scrollTop)&&(e._scrollView.scrollTop=r.offsetTop),0===r.index&&(e._scrollView.scrollTop=0),r.index===e._items.length-1&&(e._scrollView.scrollTop=e._scrollView.scrollHeight)};0!==e._previousEntry.localeCompare(r)&&(e._incrementalSearchItems=e._queryItems(e._incrementalSearchQuery,e.incrementalSearchMode),delete e._itemPosition),e._previousEntry=r;var l=e._incrementalSearchItems.length;if(0!==l){if(1===l)return void o(e._incrementalSearchItems[0]);for(void 0!==e._itemPosition?e._itemPosition<l-1?i=e._itemPosition:(i=0,t?(e._incrementalSearchItems[e._itemPosition].selected=!1,e.selectedIndexes=[],e.selectedValues=[]):e._incrementalSearchItems[e._itemPosition].focused=!1):t&&e.clearSelection(),i;i<l;i++)if(e._incrementalSearchItems[i].selected&&t)e._incrementalSearchItems[i].selected=!1,e.selectedIndexes=[],e.selectedValues=[];else{if(t||!e._incrementalSearchItems[i].focused)return o(e._incrementalSearchItems[i]),void(e._itemPosition=i);e._incrementalSearchItems[i].focused=!1}}}},{key:"_selectStartHandler",value:function(e){e.preventDefault()}},{key:"_handleArrowKeys",value:function(e){var t=this,r="radioButton"!==t.selectionMode&&"checkBox"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode;if(!t.disabled&&!t.readonly){var i=void 0;if(t._focusedItem&&!t._keysPressed.Shift)i=t._focusedItem.index,t._focusedItem.focused=!1;else{if(0===t.selectedIndexes.length)return;i=t.selectedIndexes[t.selectedIndexes.length-1]}var o=e?t._getPreviousItem(i):t._getNextItem(i);t._focusItem(o),r&&(t._keysPressed.Shift?t.selectItem(o):t._items[i]!==o&&(t.clearSelection(),t.selectItem(o))),(o.offsetHeight+o.offsetTop>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||o.offsetTop<t.$.itemsContainer.scrollTop)&&(t._scrollView.scrollTop=e?o.offsetTop:o.offsetTop-t.$.itemsContainer.offsetHeight+o.offsetHeight),0===o.index?t._scrollView.scrollTop=0:o.index===t._items.length-1&&(t._scrollView.scrollTop=t._scrollView.scrollHeight)}}},{key:"_updateFilterInputVisibility",value:function(){var e=this;if(e.filterable)return e.$.filterInput.disabled=!(!e.disabled&&!e.displayLoadingIndicator),e.$filterInput.removeClass("jqx-hidden"),void e.$itemsContainer.addClass("filter");e.$.filterInput.disabled=!0,e.$filterInput.addClass("jqx-hidden"),e.$itemsContainer.removeClass("filter")}},{key:"setFocusable",value:function(e){var t=this;if(t._focusable=e,t.disabled||!t._focusable)return void t.removeAttribute("tabindex");t.tabIndex=0}},{key:"_setLoadingIndicatorVisibility",value:function(){var e=this;if(e.displayLoadingIndicator)return void(e.$loadingIndicatorContainer.hasClass("jqx-visibility-hidden")?e.$loadingIndicatorContainer.removeClass("jqx-visibility-hidden"):e.$loadingIndicatorContainer.removeClass("jqx-hidden"));e._areCSSVarsSupported?e.$loadingIndicatorContainer.addClass("jqx-hidden"):e.$loadingIndicatorContainer.addClass("jqx-visibility-hidden")}},{key:"_updateScrollBars",value:function(){var e=this,t=e._items;if(!t||null===t||0===t.length)return e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e._scrollView.vScrollBar.$.addClass("jqx-hidden"),e.$itemsContainer.removeClass("hscroll"),e.$itemsContainer.removeClass("vscroll"),e.$filterInput.removeClass("vscroll"),e.$placeholder.removeClass("jqx-hidden"),void(e._scrollWidth=0);e.$placeholder.addClass("jqx-hidden"),e._getScrollWidth();var r=e._scrollWidth-e.$.itemsContainer.offsetWidth,i=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight;if(e._scrollView.hScrollBar.$.removeClass("jqx-hidden"),e._scrollView.vScrollBar.$.removeClass("jqx-hidden"),e._updateHorizontalScrollBarVisibility(r),i=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e._updateVerticalScrollBarVisibility(i),!e._scrollView.vScrollBar.$.hasClass("jqx-hidden"))return r=e._scrollWidth-e.$.itemsContainer.offsetWidth,e._updateHorizontalScrollBarVisibility(r),void(e._scrollView.hScrollBar.$.hasClass("jqx-hidden")?(e._scrollView.vScrollBar.$.removeClass("bottom-right-visible"),e._scrollView.hScrollBar.$.removeClass("bottom-right-visible")):(e._scrollView.hScrollBar.$.addClass("bottom-right-visible"),e._scrollView.vScrollBar.$.addClass("bottom-right-visible")));r=e._scrollWidth-e.$.itemsContainer.offsetWidth,e._updateHorizontalScrollBarVisibility(r),e._scrollView.hScrollBar.$.hasClass("jqx-hidden")||(e._scrollView.scrollHeight=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e._updateVerticalScrollBarVisibility(i),e._scrollView.vScrollBar.$.hasClass("jqx-hidden")?(e._scrollView.vScrollBar.$.removeClass("bottom-right-visible"),e._scrollView.hScrollBar.$.removeClass("bottom-right-visible")):(e._scrollView.hScrollBar.$.addClass("bottom-right-visible"),e._scrollView.vScrollBar.$.addClass("bottom-right-visible")))}},{key:"_styleChangedHandler",value:function(){this._updateScrollBars()}},{key:"_swipeLeftHandler",value:function(){}},{key:"_swipeRightHandler",value:function(){}},{key:"_updateHorizontalScrollBarVisibility",value:function(e){var t=this;t._scrollView.scrollWidth=e,e>0?(t._scrollView.scrollLeft=t.$.itemsContainer.scrollLeft,t.$itemsContainer.addClass("hscroll")):(t._scrollView.hScrollBar.$.addClass("jqx-hidden"),t.$itemsContainer.removeClass("hscroll"))}},{key:"_updateVerticalScrollBarVisibility",value:function(e){var t=this;t._scrollView.scrollHeight=e,e>0?(t._scrollView.vScrollBar.$.removeClass("jqx-hidden"),t.$itemsContainer.addClass("vscroll"),t.$filterInput.addClass("vscroll")):(t._scrollView.vScrollBar.$.addClass("jqx-hidden"),t.$itemsContainer.removeClass("vscroll"),t.$filterInput.removeClass("vscroll"))}},{key:"_validateTemplate",value:function(e,t){if(null!==t&&t){var r=this;return"content"in document.createElement("template")?(t=document.getElementById(t),null!==t&&"content"in t?t:(r.error(r.localize("invalidTemplate",{elementType:r.nodeName.toLowerCase(),property:e})),void(r[e]=null))):(r.error(r.localize("htmlTemplateNotSuported",{elementType:r.nodeName.toLowerCase()})),void(r[e]=null))}}},{key:"_verticalScrollbarHandler",value:function(e){var t=this;if(e.stopPropagation(),t.$.itemsContainer.scrollTop=e.detail.value,e.context.max===e.context.value)return void t.$.fireEvent("scrollBottomReached");e.context.min===e.context.value&&t.$.fireEvent("scrollTopReached")}}],[{key:"properties",get:function(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},dataSource:{value:null,type:"object",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},filterable:{value:!1,type:"boolean"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["none","contains","containsIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"string?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["none","contains","containsIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.'}},type:"object"},placeholder:{value:"No Items",type:"string"},readonly:{value:!1,type:"boolean"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"default",allowedValues:["none","default","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},sorted:{value:!1,type:"boolean"},valueMember:{value:"",type:"string"}}}},{key:"listeners",get:function(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","document.up":"_upHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}}]),t}(JQX.ContentElement));
//# sourceMappingURL=jqxlistbox.js.map
